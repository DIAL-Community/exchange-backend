
<div class="col-lg-5ths col-md-4 d-flex mt-2">
  <div class="card w-100 index-card">
    <div class="card-header bg-secondary text-white truncate-parent">
      <%= link_to building_block.name, building_block, class: 'truncate-text',
          'title' => building_block.name, 'data-toggle' => 'tooltip', 'data-placement' => 'top' %>
    </div>
    <div class="model-logo">
      <%= link_to(building_block) do %>
        <%= image_tag(building_block.image_file, class: 'card-img-top align-middle') %>
      <% end %>
    </div>

    <div class="card-footer footer-padding">
      <%
        workflows = bb_footer(building_block, 'workflows')
        if workflows.count > 0
          content = "<div class='footer-row'>"
          concat(content.html_safe)

          workflows.each do |workflow|
            concat(image_tag(workflow[:filename], title: workflow[:tooltip],
                            class: 'footer-img-small mr-1 workflow-filter', 'data-toggle': 'tooltip', 'data-placement': 'top'))
          end
          concat('</div>'.html_safe)
        end

        products = bb_footer(building_block, 'products')
        if products.count > 0
          content = "<div class='footer-row'>"
          concat(content.html_safe)

          products.each do |product|
            concat(image_tag(product[:filename], title: product[:tooltip],
                           class: 'footer-img-small mr-1', 'data-toggle': 'tooltip', 'data-placement': 'top'))
          end
          concat('</div>'.html_safe)
        end

        if workflows.count == 0 || products.count == 0
          content = '<div class="footer-row"></div>'
          concat(content.html_safe)
        end
      %>
      <div class="float-right mb-1">
        <% if building_block.maturity == "BETA" %>
          <span class='badge badge-warning' data-toggle="tooltip"
            data-placement="top" data-original-title="<%= t('view.building-block.index.is_beta').humanize %>">
            <%= building_block.maturity %>
          </span>
        <% else %>
          <span class='badge badge-success' data-toggle="tooltip"
            data-placement="top" data-original-title="<%= t('view.building-block.index.is_mature').humanize %>">
            <%= building_block.maturity %>
          </span>
        <% end %>
      </div>
    </div>
  </div>
</div>

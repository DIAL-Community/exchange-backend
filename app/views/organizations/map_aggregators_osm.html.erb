<% content_for(:header_scripts) do %>

<% end %>

<div class="card">
  <h5 class="card-header bg-secondary text-white">
    <div id="loading-spinner" class="spinner-border spinner-border-sm" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <%= t('view.organization.map.aggregators') %>
    <div class="float-right">
      <%= link_to products_path, class: 'no-hover' do %>
        <h5 class="text-white icon-inline"><%= t("view.about.return_catalog") %></h5>
        <i class="fas fa-external-link-alt text-white icon-inline"></i>
      <% end %>
    </div>
  </h5>
</div>
<div id="map-aggregator-osm" class="map" style="height:40rem;">
  <div id="aggregator-osm-info" class="map-info" style="display: none;"></div>
</div>
<div id="aggregator-country-osm"></div>

<div class="form-inline">
  <div class="form-group col-12">
    <div class="float-right">
      <select id="aggregators" class="custom-select">
        <option value=-1>
          <%= t('view.organization.map.all-aggregators') %>
        </option>
      </select>
      <select id="operators" class="custom-select">
        <option value=-1>
          <%= t('view.organization.map.all-operators') %>
        </option>
      </select>
      <select id="services" class="custom-select">
        <option value=-1>
          <%= t('view.organization.map.all-services') %>
        </option>
      </select>
    </div>
  </div>
</div>

<script>

  $(document).on('#map-aggregator-osm:loaded', aggregatorOsmMapLoadedHandler);
</script>

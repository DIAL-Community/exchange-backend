<div id="filter-nav" class="card">
  <div class="card-header bg-secondary text-white">
    <h5 class="nav-header"><%= t('view.filternav.framework') %></h5>
  </div>
  <div class="card-body p-2 accordion-section">
    <div id="acc-framework" class="accordion">
      <div class="accordion-header bg-dark">
        <span class="m-0">
          <%= image_tag "sdgs_icon.png", :width => "20px", :height => "20px" %>
          <%= t('view.filternav.sdgs') %><i class="fa fa-angle-down float-right text-muted"></i>
        </span>
      </div>
      <div class="accordion-body p-0 bg-dark">
        <div class="row p-1">
          <div class="col-12 small clear-all"><a class="float-right" href="#"><%= t('view.filternav.clear') %></a></div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <div class="form-group">
              <%= collection_select(nil, "sdgs", SustainableDevelopmentGoal.all.order(:name), :id, :name,
                  { selected: params[:name], include_blank: t('view.filternav.title.sdg') },
                  { class: 'custom-select filter-element' }) %>
            </div>
          </div>
        </div>
      </div>
      <div class="accordion-header bg-dark">
          <span class="m-0">
            <%= image_tag "use_cases_icon.png", :width => "20px", :height => "20px" %>
            <%= t('view.filternav.use_cases') %><i class="fa fa-angle-down float-right text-muted"></i>
          </span>
      </div>
      <div class="accordion-body p-0 bg-dark">
        <div class="row p-1">
          <div class="col-12 small clear-all"><a class="float-right" href="#"><%= t('view.filternav.clear') %></a></div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <div class="form-group">
              <%= collection_select(nil, "use_cases", UseCase.all.order(:name), :id, :name,
                  { selected: params[:name], include_blank: t('view.filternav.title.use-case') },
                  { class: 'custom-select filter-element' }) %>
            </div>
          </div>
        </div>
      </div>
      <div class="accordion-header bg-dark">
          <span class="m-0">
            <%= image_tag "building_blocks_icon.png", :width => "20px", :height => "20px" %>
            <%= t('view.filternav.building_blocks') %><i class="fa fa-angle-down float-right text-muted"></i>
          </span>
      </div>
      <div class="accordion-body p-0 bg-dark">
        <div class="row p-1">
          <div class="col-12 small clear-all"><a class="float-right" href="#"><%= t('view.filternav.clear') %></a></div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <div class="form-group">
              <%= collection_select(nil, "building_blocks", BuildingBlock.all.order(:name), :id, :name,
                  { selected: params[:name], include_blank: t('view.filternav.title.building-block') },
                  { class: 'custom-select filter-element' }) %>
            </div>
          </div>
        </div>
      </div>
      <div class="accordion-header bg-dark">
          <span class="m-0">
            <%= image_tag "workflows_icon.png", :width => "20px", :height => "20px" %>
            <%= t('view.filternav.workflows') %><i class="fa fa-angle-down float-right text-muted"></i>
          </span>
      </div>
      <div class="accordion-body p-0 bg-dark">
        <div class="row p-1">
          <div class="col-12 small clear-all"><a class="float-right" href="#"><%= t('view.filternav.clear') %></a></div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <div class="form-group">
              <%= collection_select(nil, "workflows", Workflow.all.order(:name), :id, :name,
                  { selected: params[:name], include_blank: t('view.filternav.title.workflow') },
                  { class: 'custom-select filter-element' }) %>
            </div>
          </div>
        </div>
      </div>
      <div class="accordion-header bg-dark">
          <span class="m-0">
            <%= image_tag "products_icon.png", :width => "20px", :height => "20px" %>
            <%= t('view.filternav.products') %><i class="fa fa-angle-down float-right text-muted"></i>
          </span>
      </div>
      <div class="accordion-body p-0 bg-dark">
        <div class="row p-1">
          <div class="col-12 small clear-all"><a class="float-right" href="#"><%= t('view.filternav.clear') %></a></div>
        </div>
        <div class="form-row mb-2">
          <div class="col-12 ml-1">
            <div class="form-check">
                <%= check_box_tag "with_maturity_assessment", true, params[:with_maturity_assessment], class: "form-check-input filter-element checkbox-align" %>
                <%= label_tag "with_maturity_assessment", t('view.filternav.with-maturity'), class: "form-check-label" %>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <div class="form-group mb-2">
              <%= label_tag "origins", t('view.product.index.sources'), class: 'ml-1' %>
              <%= collection_select(nil, "origins", Origin.all.order(:name), :id, :name,
                  { selected: params[:name], include_blank: t('view.filternav.title.origin')},
                  { class: 'custom-select filter-element' }) %>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <div class="form-group mb-2">
              <%= label_tag "products", t('model.product').titlecase.pluralize, class: 'ml-1' %>:
              <%= collection_select(nil, "products", Product.all.order(:name), :id, :name,
                  { selected: params[:name], include_blank: t('view.filternav.title.product') },
                  { class: 'custom-select filter-element' }) %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="card-header bg-secondary text-white">
    <h5 class="nav-header"><%= t('view.filternav.registry') %></h5>
  </div>
  <div class="card-body p-2">
    <div id="acc-registry" class="accordion">
      <div class="accordion-header bg-dark">
        <span class="m-0">
          <%= image_tag "geographies_icon.png", :width => "20px", :height => "20px" %>
          <%= t('view.filternav.geographies') %><i class="fa fa-angle-down float-right text-muted"></i>
        </span>
      </div>
      <div class="accordion-body p-0 bg-dark">
        <div class="row p-1">
          <div class="col-12 small clear-all"><a class="float-right" href="#"><%= t('view.filternav.clear') %></a></div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <div class="form-group">
              <%= collection_select(nil, "countries", Location.where(location_type: 'country').order(:name), :id, :name,
                  { selected: params[:name], include_blank: t('view.filternav.title.country') },
                  { class: 'custom-select filter-element' }) %>
            </div>
          </div>
        </div>
      </div>
      <div class="accordion-header bg-dark">
        <span class="m-0">
          <%= image_tag "sectors_icon.png", :width => "20px", :height => "20px" %>
          <%= t('view.filternav.sectors') %><i class="fa fa-angle-down float-right text-muted"></i>
        </span>
      </div>
      <div class="accordion-body p-0 bg-dark">
        <div class="row p-1">
          <div class="col-12 small clear-all"><a class="float-right" href="#"><%= t('view.filternav.clear') %></a></div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <div class="form-group">
              <%= collection_select(nil, "sectors", Sector.all.order(:name), :id, :name,
                  { selected: params[:name], include_blank: t('view.filternav.title.sector') },
                  { class: 'custom-select filter-element' }) %>
            </div>
          </div>
        </div>
      </div>
      <div class="accordion-header bg-dark">
        <span class="m-0">
          <%= image_tag "organizations_icon.png", :width => "20px", :height => "20px" %>
          <%= t('view.filternav.orgs') %><i class="fa fa-angle-down float-right text-muted"></i>
        </span>
      </div>
      <div class="accordion-body p-0 bg-dark">
        <div class="row p-1">
          <div class="col-12 small clear-all"><a class="float-right" href="#"><%= t('view.filternav.clear') %></a></div>
        </div>
        <div class="form-row mb-2">
          <div class="col-12 ml-1">
            <div class="form-check">
                <%= check_box_tag "endorser_only", true, params[:endorser_only], { class: "form-check-input filter-element checkbox-align", name:"endorser"} %>
                <%= label_tag "endorser_only", t('view.organization.index.endorser-only'), class: "form-check-label" %>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <div class="form-group">
              <%= label_tag "years", t('view.organization.index.endorsed-date'), class: 'ml-1' %>
              <%= select(nil, "years",
                        Organization
                            .where.not(when_endorsed: nil)
                            .all
                            .collect {|o| [ o.when_endorsed.strftime('%Y'), o.when_endorsed.strftime('%Y') ] }
                            .uniq!
                            .sort!,
                        { selected: params[:years], include_blank: t('view.filternav.title.year') },
                        { class: 'custom-select filter-element', name: 'years' }) %>
            </div>
          </div>
        </div>
      </div>
      <div class="accordion-header bg-dark">
        <p class="m-0"><%= t('view.filternav.projects') %><i class="fa fa-angle-down float-right text-muted"></i></p>
      </div>
      <div class="accordion-body p-0 bg-dark">
        <div class="row p-1">
          <div class="col-12 ml-1">
            <%= t('view.filternav.view-projects') %>
          </div>
        </div>
      </div>
      <div class="accordion-header bg-dark">
        <p class="m-0"><%= t('view.filternav.map') %><i class="fa fa-angle-down float-right text-muted"></i></p>
      </div>
      <div class="accordion-body p-0 bg-dark">
        <div class="row p-1">
          <div class="col-12 ml-1">
            <%= link_to t('view.filternav.view-map'), 'map' %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
